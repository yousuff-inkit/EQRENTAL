<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2018-02-01T10:55:14 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Blankfiled" pageWidth="612" pageHeight="792" columnWidth="572" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="12d0979a-cdbb-45f9-823d-3e8951d957d1">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<property name="com.jaspersoft.studio.unit." value="inch"/>
	<style name="Table_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="invdetail" uuid="5df2f4d5-d006-4528-85bf-4e74ce173754">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="star"/>
		<parameter name="docno" class="java.lang.String"/>
		<parameter name="costid" class="java.lang.String"/>
		<queryString>
			<![CDATA[select '' name,concat(ref_type,'  ',description)descrip ,1 qty,round(atotal,2) rate, round(atotal,2) amnt from my_servm where doc_no=$P{docno}
union all
select '' code,'Legal Charge' descrip,1 qty,round(m.legalchrg,2) rate, round(m.legalchrg,2) amnt from my_servm m
   where m.legalchrg >0 and m.doc_no=$P{docno}
union all
select m1.part_no name,m1.productname descrip, round(sum(qty),2) qty,0.00 rate  , 0 amnt from my_gism m left join
my_gisd d on m.doc_no=d.rdocno left join my_main m1 on m1.psrno=d.psrno where m.costdocno=$P{costid} group by d.psrno;]]>
		</queryString>
		<field name="name" class="java.lang.String"/>
		<field name="descrip" class="java.lang.String"/>
		<field name="qty" class="java.lang.String"/>
		<field name="rate" class="java.lang.String"/>
		<field name="amnt" class="java.lang.String"/>
	</subDataset>
	<parameter name="docno" class="java.lang.String"/>
	<parameter name="amtwords" class="java.lang.String"/>
	<parameter name="trno" class="java.lang.String"/>
	<parameter name="costid" class="java.lang.Integer"/>
	<parameter name="refno" class="java.lang.String"/>
	<parameter name="jobrefno" class="java.lang.String"/>
	<parameter name="printby" class="java.lang.String"/>
	<queryString>
		<![CDATA[select M.DOC_NO docno,concat('TRN NO','   ',b.tinno) companytrno,coalesce(m.notes,'') notes,
 m.doc_no invono,DATE_FORMAT(m.date,'%d-%b-%Y') date,c.refname client,
coalesce(c.address,'') as details,coalesce(c.com_mob,'') as mob,coalesce(c.mail1,'') as email,
m.costid,round(atotal,2) as atotal,CONCAT (round(coalesce(tax.per,0),2),' %') taxper,round(coalesce(tax.amount,0),2) taxamount,
round(atotal+m.legalchrg+coalesce(tax.amount,0),2) as nettotal
 from my_servm m left join my_acbook c on (m.cldocno=c.doc_no and c.dtype='CRM') left join my_brch b on(b.doc_no=m.brhid)
 left join cm_srvcontrm cm on m.refdocno=cm.doc_no  and cm.dtype=m.ref_type
 left join my_invtaxdet tax on tax.rdocno=m.tr_no where m.status=3    and m.brhid=1 and m.tr_no=$P{trno};]]>
	</queryString>
	<field name="docno" class="java.lang.String"/>
	<field name="companytrno" class="java.lang.String"/>
	<field name="notes" class="java.lang.String"/>
	<field name="invono" class="java.lang.String"/>
	<field name="date" class="java.lang.String"/>
	<field name="client" class="java.lang.String"/>
	<field name="details" class="java.lang.String"/>
	<field name="mob" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="costid" class="java.lang.String"/>
	<field name="atotal" class="java.lang.String"/>
	<field name="taxper" class="java.lang.String"/>
	<field name="taxamount" class="java.lang.String"/>
	<field name="nettotal" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="257" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="inch"/>
			<textField>
				<reportElement x="180" y="150" width="69" height="28" uuid="5dc77062-c16c-486b-8a18-b88370cea79a"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="20" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["TAX "]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="430" y="126" width="136" height="19" uuid="45c4f172-28f8-4114-9828-c9abf45c46df"/>
				<textFieldExpression><![CDATA[$F{companytrno}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="407" y="194" width="75" height="19" uuid="17d56bb6-ae11-4fb8-b800-e862b68c1c77"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="483" y="194" width="75" height="19" uuid="97bc3c5f-bff2-4c77-a5bb-775c2e603a00"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{invono}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="-8" y="188" width="229" height="62" uuid="4b3082ab-ab70-4f61-bcdb-204e9addd730">
					<property name="com.jaspersoft.studio.unit.y" value="inch"/>
				</reportElement>
				<textFieldExpression><![CDATA[$F{client}+"\n"+$F{details}+"\n"+$F{mob}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="294" y="233" width="75" height="19" uuid="f9c9afe7-60de-4a9b-8ce8-4a54f55e5bcd"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{refno}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="387" y="233" width="75" height="19" uuid="c48c6dc9-6276-4e68-82b1-c2b6ec9778c0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{jobrefno}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="60" splitType="Stretch">
			<componentElement>
				<reportElement mode="Transparent" x="3" y="0" width="560" height="60" uuid="812f3430-6c90-4386-94eb-5efa6c4d1c07">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
					<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
					<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
					<property name="com.jaspersoft.studio.unit.x" value="inch"/>
					<property name="com.jaspersoft.studio.unit.width" value="inch"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="invdetail" uuid="30736083-e97c-4b89-82fd-99ff99bc112a">
						<datasetParameter name="costid">
							<datasetParameterExpression><![CDATA[$P{costid}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="docno">
							<datasetParameterExpression><![CDATA[$P{docno}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="70" uuid="885ea3c2-1082-42fa-9447-dfc9373babc1">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:columnHeader style="Table_CH" height="30"/>
						<jr:detailCell style="Table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="0" y="0" width="70" height="30" backcolor="rgba(255, 255, 255, 0.0)" uuid="d7afaa7d-fd1f-460f-8dd8-bf1118b2ad40"/>
								<textElement verticalAlignment="Bottom"/>
								<textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="210" uuid="e139a289-f9f1-4f9e-acbf-4d2c5e2cb6f8">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:columnHeader style="Table_CH" height="30"/>
						<jr:detailCell style="Table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="0" y="0" width="210" height="30" backcolor="#FFFFFF" uuid="58811218-5b21-4160-ad09-b7eedec67375"/>
								<textElement verticalAlignment="Bottom">
									<paragraph lineSpacing="Single" lineSpacingSize="0.5"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{descrip}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="80" uuid="30f14118-fb7e-4c9f-8f72-69f472d3cf01">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:columnHeader style="Table_CH" height="30"/>
						<jr:detailCell style="Table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="0" y="0" width="80" height="30" backcolor="rgba(255, 255, 255, 0.0)" uuid="b1f76177-9d63-4cfa-a6b0-049b3701cf8d"/>
								<textElement textAlignment="Right" verticalAlignment="Bottom">
									<paragraph leftIndent="3" rightIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{qty}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="4259f5f4-e1b5-475c-8e9e-b72f15814bc0">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
						<jr:columnHeader style="Table_CH" height="30"/>
						<jr:detailCell style="Table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="0" y="0" width="90" height="30" backcolor="rgba(255, 255, 255, 0.0)" uuid="8a9e456c-03bf-4d22-9cbe-cd17264ab843"/>
								<textElement textAlignment="Right" verticalAlignment="Bottom">
									<paragraph leftIndent="3" rightIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{rate}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="110" uuid="d0a103cf-6573-4795-bee8-ecafb3b99413">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
						<jr:columnHeader style="Table_CH" height="30"/>
						<jr:detailCell style="Table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="0" y="0" width="110" height="30" backcolor="rgba(255, 255, 255, 0.0)" uuid="4445f765-f014-453e-8a92-c21139cd6899"/>
								<textElement textAlignment="Right" verticalAlignment="Bottom">
									<paragraph leftIndent="3" rightIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{amnt}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="173">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="1" y="162" width="118" height="8" isRemoveLineWhenBlank="true" uuid="85baaddf-1819-44a4-b479-b167ff2d95c4">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="inch"/>
					<property name="com.jaspersoft.studio.unit.width" value="inch"/>
					<printWhenExpression><![CDATA[$V{REPORT_COUNT}==1]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="4"/>
				</textElement>
				<textFieldExpression><![CDATA["Printed by  "+$P{printby}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="226" y="161" width="120" height="8" isRemoveLineWhenBlank="true" forecolor="#1A1717" uuid="45d288e9-9bb0-446f-8694-02a6b1e8c616">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="inch"/>
					<printWhenExpression><![CDATA[$V{REPORT_COUNT}==1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="4"/>
				</textElement>
				<textFieldExpression><![CDATA["Page  No  "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="471" y="162" width="90" height="8" uuid="649515b2-6355-4954-9af8-99bcaf630807">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="4"/>
				</textElement>
				<textFieldExpression><![CDATA["Powered by GATEWAY ERP"]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="20" y="0" width="542" height="1" uuid="20dc4819-8c16-455d-a5c6-03e1e2d552f0"/>
			</line>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="174">
			<property name="com.jaspersoft.studio.unit.height" value="inch"/>
			<textField>
				<reportElement positionType="Float" x="484" y="38" width="78" height="24" uuid="09153021-63db-4829-a59e-b4191fbb6bcf"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nettotal}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="10" y="40" width="282" height="24" uuid="96768433-6f89-4d01-b8eb-766525d7c7e9"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{amtwords}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="426" y="21" width="62" height="17" uuid="3e2df7f1-2efe-47f1-a824-7d5ac64f27d9"/>
				<textFieldExpression><![CDATA["VAT "+$F{taxper}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="487" y="3" width="76" height="19" uuid="09fbc534-5ae3-4084-a2e0-1b5544f10d04"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{atotal}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="487" y="20" width="76" height="19" uuid="593dcd5a-6789-4f41-a241-92d0f5bb9cd1"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{taxamount}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="426" y="4" width="52" height="17" uuid="acba3f75-9f44-4be6-bde9-20794c56c999"/>
				<textFieldExpression><![CDATA["Sub Total "]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="1" y="164" width="118" height="8" isRemoveLineWhenBlank="true" uuid="a4963d9a-6887-4c8d-8475-bd1db7628bc0">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="inch"/>
					<property name="com.jaspersoft.studio.unit.width" value="inch"/>
					<printWhenExpression><![CDATA[$V{REPORT_COUNT}==1]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="4"/>
				</textElement>
				<textFieldExpression><![CDATA["Printed by  "+$P{printby}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="226" y="163" width="120" height="8" isRemoveLineWhenBlank="true" forecolor="#1A1717" uuid="d5e39d73-7466-421f-aca8-d24a52f71299">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="inch"/>
					<printWhenExpression><![CDATA[$V{REPORT_COUNT}==1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Tahoma" size="4"/>
				</textElement>
				<textFieldExpression><![CDATA["Page  No  "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="471" y="164" width="90" height="8" uuid="bbc94360-b892-4c10-a580-ba883d8a4e83">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="4"/>
				</textElement>
				<textFieldExpression><![CDATA["Powered by GATEWAY ERP"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="360" y="92" width="69" height="17" uuid="79d96918-c256-4ced-928f-bdc294909fb2"/>
				<textFieldExpression><![CDATA["Checked By"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="430" y="92" width="136" height="17" uuid="6d454737-bcf8-4710-a359-87b845212649"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textFieldExpression><![CDATA[""]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="20" y="0" width="542" height="1" uuid="e06b2517-8924-4882-8b89-f3f3b00ed19d"/>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</line>
		</band>
	</lastPageFooter>
</jasperReport>
